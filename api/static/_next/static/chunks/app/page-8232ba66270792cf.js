(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{71865:function(e,t,s){Promise.resolve().then(s.bind(s,96316))},96316:function(e,t,s){"use strict";s.d(t,{default:function(){return eT}});var r=s(57437),a=s(2265),n=s(85929),i=s(97226),l=s(25922),o=s(37053),c=s(90535),d=s(61994),m=s(53335);function f(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,m.m6)((0,d.W)(t))}let u=(0,c.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:i=!1,...l}=e,c=i?o.g7:"button";return(0,r.jsx)(c,{className:f(u({variant:a,size:n,className:s})),ref:t,...l})});x.displayName="Button";var h=s(46480),p=s(10407),y=s(30401),j=s(40519);let g=h.fC,b=h.xz;h.ZA,h.Uv,h.Tr,h.Ee,a.forwardRef((e,t)=>{let{className:s,inset:a,children:n,...i}=e;return(0,r.jsxs)(h.fF,{ref:t,className:f("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",s),...i,children:[n,(0,r.jsx)(p.Z,{className:"ml-auto"})]})}).displayName=h.fF.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(h.tu,{ref:t,className:f("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a})}).displayName=h.tu.displayName;let w=a.forwardRef((e,t)=>{let{className:s,sideOffset:a=4,...n}=e;return(0,r.jsx)(h.Uv,{children:(0,r.jsx)(h.VY,{ref:t,sideOffset:a,className:f("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});w.displayName=h.VY.displayName;let N=a.forwardRef((e,t)=>{let{className:s,inset:a,...n}=e;return(0,r.jsx)(h.ck,{ref:t,className:f("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",s),...n})});function v(){let{setTheme:e}=(0,l.F)();return(0,r.jsxs)(g,{children:[(0,r.jsx)(b,{asChild:!0,children:(0,r.jsxs)(x,{variant:"ghost",size:"icon",children:[(0,r.jsx)(n.Z,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,r.jsx)(i.Z,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,r.jsxs)(w,{align:"end",children:[(0,r.jsx)(N,{onClick:()=>e("light"),children:"Light"}),(0,r.jsx)(N,{onClick:()=>e("dark"),children:"Dark"}),(0,r.jsx)(N,{onClick:()=>e("system"),children:"System"})]})]})}N.displayName=h.ck.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,checked:n,...i}=e;return(0,r.jsxs)(h.oC,{ref:t,className:f("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(h.wU,{children:(0,r.jsx)(y.Z,{className:"h-4 w-4"})})}),a]})}).displayName=h.oC.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(h.Rk,{ref:t,className:f("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(h.wU,{children:(0,r.jsx)(j.Z,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=h.Rk.displayName,a.forwardRef((e,t)=>{let{className:s,inset:a,...n}=e;return(0,r.jsx)(h.__,{ref:t,className:f("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",s),...n})}).displayName=h.__.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(h.Z0,{ref:t,className:f("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=h.Z0.displayName;let k=a.forwardRef((e,t)=>{let{className:s,type:a,...n}=e;return(0,r.jsx)("input",{type:a,className:f("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});k.displayName="Input";var F=s(14938),C=s(39989),R=s(82222),S=s(73247),M=s(94766),D=s(92369);function z(e){let{currentPage:t,setCurrentPage:s,pages:a}=e,n=e=>{switch(e){case"Home":default:return(0,r.jsx)(F.Z,{className:"h-5 w-5"});case"Factory":return(0,r.jsx)(C.Z,{className:"h-5 w-5"});case"Bot":return(0,r.jsx)(R.Z,{className:"h-5 w-5"})}};return(0,r.jsx)("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,r.jsxs)("div",{className:"flex h-16 items-center px-4",children:[(0,r.jsxs)("div",{className:"flex items-center mr-6",children:[(0,r.jsx)("img",{src:"/logo.svg",alt:"Factory Logo",className:"h-8 mr-2"}),(0,r.jsx)("span",{className:"font-semibold text-lg",children:"Factory AI"})]}),(0,r.jsx)("nav",{className:"flex items-center space-x-1 lg:space-x-2",children:a.map(e=>(0,r.jsxs)(x,{variant:t===e.name?"default":"ghost",className:f("h-9 px-2 lg:px-3",t===e.name&&"bg-primary text-primary-foreground"),onClick:()=>s(e.name),children:[n(e.icon),(0,r.jsx)("span",{className:"hidden md:inline-block ml-2",children:e.name})]},e.name))}),(0,r.jsxs)("div",{className:"ml-auto flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"relative w-60 hidden md:block",children:[(0,r.jsx)(S.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(k,{type:"search",placeholder:"Search...",className:"w-full rounded-md pl-8 md:w-[200px] lg:w-[300px]"})]}),(0,r.jsx)(v,{}),(0,r.jsx)(x,{variant:"ghost",size:"icon",children:(0,r.jsx)(M.Z,{className:"h-5 w-5"})}),(0,r.jsx)(x,{variant:"ghost",size:"icon",className:"rounded-full",children:(0,r.jsx)(D.Z,{className:"h-5 w-5"})})]})]})})}let Z=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:f("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});Z.displayName="Card";let E=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:f("flex flex-col space-y-1.5 p-6",s),...a})});E.displayName="CardHeader";let A=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:f("text-2xl font-semibold leading-none tracking-tight",s),...a})});A.displayName="CardTitle";let _=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:f("text-sm text-muted-foreground",s),...a})});_.displayName="CardDescription";let T=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:f("p-6 pt-0",s),...a})});T.displayName="CardContent";let L=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:f("flex items-center p-6 pt-0",s),...a})});L.displayName="CardFooter";var P=s(20271);let H=P.fC,B=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(P.aV,{ref:t,className:f("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a})});B.displayName=P.aV.displayName;let Y=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(P.xz,{ref:t,className:f("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a})});Y.displayName=P.xz.displayName;let I=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(P.VY,{ref:t,className:f("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});I.displayName=P.VY.displayName;var V=s(82431),q=s(20265),K=s(9089),O=s(81596),U=s(70525),W=s(47625),J=s(58336),X=s(56940),G=s(97059),Q=s(62994),$=s(8147),ee=s(22190),et=s(54061);function es(e){let{data:t,dataKey:s,color:a="#8884d8",yAxisLabel:n=""}=e;return(0,r.jsx)(W.h,{width:"100%",height:350,children:(0,r.jsxs)(J.w,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[(0,r.jsx)(X.q,{strokeDasharray:"3 3"}),(0,r.jsx)(G.K,{dataKey:"name",padding:{left:20,right:20}}),(0,r.jsx)(Q.B,{label:{value:n,angle:-90,position:"insideLeft",style:{textAnchor:"middle"}}}),(0,r.jsx)($.u,{formatter:(e,t)=>"number"==typeof e?["".concat(e.toFixed(1)).concat("%"===n?"%":""),t.toString()]:[e,t]}),(0,r.jsx)(ee.D,{}),(0,r.jsx)(et.x,{type:"monotone",dataKey:s,name:s.charAt(0).toUpperCase()+s.slice(1),stroke:a,activeDot:{r:8},strokeWidth:2})]})})}let er=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:f("w-full caption-bottom text-sm",s),...a})})});er.displayName="Table";let ea=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("thead",{ref:t,className:f("[&_tr]:border-b",s),...a})});ea.displayName="TableHeader";let en=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tbody",{ref:t,className:f("[&_tr:last-child]:border-0",s),...a})});en.displayName="TableBody",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tfoot",{ref:t,className:f("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a})}).displayName="TableFooter";let ei=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tr",{ref:t,className:f("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a})});ei.displayName="TableRow";let el=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("th",{ref:t,className:f("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...a})});el.displayName="TableHead";let eo=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("td",{ref:t,className:f("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...a})});eo.displayName="TableCell",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("caption",{ref:t,className:f("mt-4 text-sm text-muted-foreground",s),...a})}).displayName="TableCaption";let ec=(0,c.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ed(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:f(ec({variant:s}),t),...a})}let em=[{id:"1",name:"Production Line 1",status:"operational",efficiency:92,lastMaintenance:"3 days ago"},{id:"2",name:"Production Line 2",status:"maintenance",efficiency:0,lastMaintenance:"In progress"},{id:"3",name:"Production Line 3",status:"operational",efficiency:87,lastMaintenance:"1 week ago"},{id:"4",name:"Assembly Line A",status:"operational",efficiency:95,lastMaintenance:"2 days ago"},{id:"5",name:"Assembly Line B",status:"offline",efficiency:0,lastMaintenance:"Scheduled tomorrow"}];function ef(e){let{data:t=em}=e,s=t.length>0?t:em,a=e=>{switch(e){case"operational":return"bg-green-500";case"maintenance":return"bg-yellow-500";case"offline":return"bg-red-500";default:return"bg-gray-500"}};return(0,r.jsxs)(er,{children:[(0,r.jsx)(ea,{children:(0,r.jsxs)(ei,{children:[(0,r.jsx)(el,{children:"Name"}),(0,r.jsx)(el,{children:"Status"}),(0,r.jsx)(el,{children:"Efficiency"}),(0,r.jsx)(el,{children:"Last Maintenance"})]})}),(0,r.jsx)(en,{children:s.map(e=>(0,r.jsxs)(ei,{children:[(0,r.jsx)(eo,{className:"font-medium",children:e.name}),(0,r.jsx)(eo,{children:(0,r.jsx)(ed,{className:a(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,r.jsxs)(eo,{children:[e.efficiency,"%"]}),(0,r.jsx)(eo,{children:e.lastMaintenance})]},e.id))})]})}let eu={getFactoryMetrics:async()=>{try{let e=await fetch("/api/factory/metrics");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();return{success:!0,data:t}}catch(e){return console.error("Error fetching factory metrics:",e),{success:!1,error:"Failed to fetch factory metrics"}}},getFactoryStatus:async()=>{try{let e=await fetch("/api/factory/status");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();return{success:!0,data:t}}catch(e){return console.error("Error fetching factory status:",e),{success:!1,error:"Failed to fetch factory status"}}},sendBotMessage:async e=>{try{let t=await fetch("/api/factory/bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let s=await t.json();return{success:!0,data:s}}catch(e){return console.error("Error sending message to bot:",e),{success:!1,error:"Failed to communicate with the factory bot"}}}},ex=(0,c.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),eh=a.forwardRef((e,t)=>{let{className:s,variant:a,...n}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:f(ex({variant:a}),s),...n})});eh.displayName="Alert";let ep=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h5",{ref:t,className:f("mb-1 font-medium leading-none tracking-tight",s),...a})});ep.displayName="AlertTitle";let ey=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:f("text-sm [&_p]:leading-relaxed",s),...a})});function ej(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:f("animate-pulse rounded-md bg-muted",t),...s})}ey.displayName="AlertDescription";var eg=s(52850);let eb=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(eg.fC,{ref:t,className:f("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...a})});eb.displayName=eg.fC.displayName;let ew=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsx)(eg.ck,{ref:t,className:f("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-background data-[state=on]:text-foreground data-[state=on]:shadow",s),...n,children:a})});function eN(){let[e,t]=(0,a.useState)(null),[s,n]=(0,a.useState)(null),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null),[d,m]=(0,a.useState)(!1),[f,u]=(0,a.useState)("monthly"),h=(0,a.useCallback)(async()=>{l(!0),c(null);try{let e=await eu.getFactoryMetrics();e.success&&e.data?t(e.data):c(e.error||"Failed to fetch metrics");let s=await eu.getFactoryStatus();s.success&&s.data?n(s.data):c(s.error||"Failed to fetch status")}catch(e){c("An unexpected error occurred"),console.error(e)}finally{l(!1),m(!1)}},[]);(0,a.useEffect)(()=>{h()},[h]);let p=[{name:"January",production:4200,efficiency:82,downtime:12},{name:"February",production:3800,efficiency:78,downtime:15},{name:"March",production:5100,efficiency:85,downtime:8},{name:"April",production:4700,efficiency:80,downtime:10},{name:"May",production:5300,efficiency:87,downtime:7},{name:"June",production:4900,efficiency:83,downtime:9},{name:"July",production:5200,efficiency:86,downtime:6},{name:"August",production:5e3,efficiency:84,downtime:8},{name:"September",production:5400,efficiency:88,downtime:5},{name:"October",production:5600,efficiency:89,downtime:4},{name:"November",production:5200,efficiency:85,downtime:7},{name:"December",production:4800,efficiency:81,downtime:11}],y=[{name:"2018",production:48e3,efficiency:79,downtime:120},{name:"2019",production:52e3,efficiency:82,downtime:105},{name:"2020",production:49e3,efficiency:80,downtime:115},{name:"2021",production:55e3,efficiency:84,downtime:95},{name:"2022",production:59e3,efficiency:86,downtime:85},{name:"2023",production:62e3,efficiency:88,downtime:75}],j=e||{production:1245,efficiency:89.2,downtime:3.2,profitMargin:24.5,timeSeriesData:p},g=e=>"yearly"===f?y:p,b=s?s.map(e=>({...e,lastMaintenance:e.lastMaintenance||new Date().toISOString()})):[];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Factory Dashboard"}),(0,r.jsxs)(x,{variant:"outline",size:"sm",onClick:()=>{m(!0),h()},disabled:i||d,children:[(0,r.jsx)(V.Z,{className:"h-4 w-4 mr-2 ".concat(d?"animate-spin":"")}),d?"Refreshing...":"Refresh Data"]})]}),o&&(0,r.jsxs)(eh,{variant:"destructive",children:[(0,r.jsx)(ep,{children:"Error"}),(0,r.jsx)(ey,{children:o})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(Z,{children:[(0,r.jsxs)(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(A,{className:"text-sm font-medium",children:"Production Rate"}),(0,r.jsx)(C.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(T,{children:i?(0,r.jsx)(ej,{className:"h-8 w-24"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[j.production," units"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{className:"text-green-500 inline-flex items-center",children:[(0,r.jsx)(q.Z,{className:"mr-1 h-3 w-3"}),"12%"]})," ","from last month"]})]})})]}),(0,r.jsxs)(Z,{children:[(0,r.jsxs)(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(A,{className:"text-sm font-medium",children:"Efficiency"}),(0,r.jsx)(K.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(T,{children:i?(0,r.jsx)(ej,{className:"h-8 w-24"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[j.efficiency.toFixed(1),"%"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{className:"".concat(j.efficiency>55?"text-green-500":"text-amber-500"," inline-flex items-center"),children:[(0,r.jsx)(q.Z,{className:"mr-1 h-3 w-3"}),"4.3%"]})," ","from last month"]})]})})]}),(0,r.jsxs)(Z,{children:[(0,r.jsxs)(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(A,{className:"text-sm font-medium",children:"Downtime"}),(0,r.jsx)(O.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(T,{children:i?(0,r.jsx)(ej,{className:"h-8 w-24"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[j.downtime.toFixed(1)," hours"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{className:"".concat(j.downtime<5?"text-green-500":"text-red-500"," inline-flex items-center"),children:[(0,r.jsx)(q.Z,{className:"mr-1 h-3 w-3"}),"0.8 hours"]})," ","from last month"]})]})})]}),(0,r.jsxs)(Z,{children:[(0,r.jsxs)(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(A,{className:"text-sm font-medium",children:"Profit Margin"}),(0,r.jsx)(U.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(T,{children:i?(0,r.jsx)(ej,{className:"h-8 w-24"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[j.profitMargin.toFixed(1),"%"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{className:"text-green-500 inline-flex items-center",children:[(0,r.jsx)(q.Z,{className:"mr-1 h-3 w-3"}),"2.1%"]})," ","from last month"]})]})})]})]}),(0,r.jsxs)(H,{defaultValue:"production",className:"space-y-4",children:[(0,r.jsxs)(B,{children:[(0,r.jsx)(Y,{value:"production",children:"Production"}),(0,r.jsx)(Y,{value:"efficiency",children:"Efficiency"}),(0,r.jsx)(Y,{value:"downtime",children:"Downtime"}),(0,r.jsx)(Y,{value:"status",children:"Machine Status"})]}),(0,r.jsx)(I,{value:"production",className:"space-y-4",children:(0,r.jsxs)(Z,{children:[(0,r.jsxs)(E,{className:"flex flex-row items-center justify-between space-y-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(A,{children:"Production Data"}),(0,r.jsx)(_,{children:"monthly"===f?"Monthly production volume":"Yearly production volume"})]}),(0,r.jsxs)(eb,{type:"single",value:f,onValueChange:e=>e&&u(e),children:[(0,r.jsx)(ew,{value:"monthly",children:"Monthly"}),(0,r.jsx)(ew,{value:"yearly",children:"Yearly"})]})]}),(0,r.jsx)(T,{className:"pl-2",children:i?(0,r.jsx)("div",{className:"h-[350px] flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading chart data..."})]})}):(0,r.jsx)(es,{data:g("production"),dataKey:"production",color:"#8884d8",yAxisLabel:"Units"})})]})}),(0,r.jsx)(I,{value:"efficiency",className:"space-y-4",children:(0,r.jsxs)(Z,{children:[(0,r.jsxs)(E,{className:"flex flex-row items-center justify-between space-y-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(A,{children:"Efficiency Data"}),(0,r.jsx)(_,{children:"monthly"===f?"Monthly efficiency percentage":"Yearly efficiency percentage"})]}),(0,r.jsxs)(eb,{type:"single",value:f,onValueChange:e=>e&&u(e),children:[(0,r.jsx)(ew,{value:"monthly",children:"Monthly"}),(0,r.jsx)(ew,{value:"yearly",children:"Yearly"})]})]}),(0,r.jsx)(T,{className:"pl-2",children:i?(0,r.jsx)("div",{className:"h-[350px] flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading chart data..."})]})}):(0,r.jsx)(es,{data:g("efficiency"),dataKey:"efficiency",color:"#82ca9d",yAxisLabel:"%"})})]})}),(0,r.jsx)(I,{value:"downtime",className:"space-y-4",children:(0,r.jsxs)(Z,{children:[(0,r.jsxs)(E,{className:"flex flex-row items-center justify-between space-y-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(A,{children:"Downtime Data"}),(0,r.jsx)(_,{children:"monthly"===f?"Monthly downtime hours":"Yearly downtime hours"})]}),(0,r.jsxs)(eb,{type:"single",value:f,onValueChange:e=>e&&u(e),children:[(0,r.jsx)(ew,{value:"monthly",children:"Monthly"}),(0,r.jsx)(ew,{value:"yearly",children:"Yearly"})]})]}),(0,r.jsx)(T,{className:"pl-2",children:i?(0,r.jsx)("div",{className:"h-[350px] flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading chart data..."})]})}):(0,r.jsx)(es,{data:g("downtime"),dataKey:"downtime",color:"#ff8042",yAxisLabel:"Hours"})})]})}),(0,r.jsx)(I,{value:"status",className:"space-y-4",children:(0,r.jsxs)(Z,{children:[(0,r.jsxs)(E,{children:[(0,r.jsx)(A,{children:"Factory Status"}),(0,r.jsx)(_,{children:"Current status of production lines"})]}),(0,r.jsx)(T,{children:i?(0,r.jsx)("div",{className:"space-y-2",children:[1,2,3,4,5].map(e=>(0,r.jsx)(ej,{className:"h-10 w-full"},e))}):(0,r.jsx)(ef,{data:b})})]})})]})]})}ew.displayName=eg.ck.displayName;var ev=s(70650);let ek=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(ev.fC,{ref:t,className:f("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a})});ek.displayName=ev.fC.displayName;let eF=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(ev.Ee,{ref:t,className:f("aspect-square h-full w-full",s),...a})});eF.displayName=ev.Ee.displayName;let eC=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(ev.NY,{ref:t,className:f("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a})});eC.displayName=ev.NY.displayName;var eR=s(90314);let eS=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(eR.fC,{ref:t,className:f("relative overflow-hidden",s),...n,children:[(0,r.jsx)(eR.l_,{className:"h-full w-full rounded-[inherit]",children:a}),(0,r.jsx)(eM,{}),(0,r.jsx)(eR.Ns,{})]})});eS.displayName=eR.fC.displayName;let eM=a.forwardRef((e,t)=>{let{className:s,orientation:a="vertical",...n}=e;return(0,r.jsx)(eR.gb,{ref:t,orientation:a,className:f("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...n,children:(0,r.jsx)(eR.q4,{className:"relative flex-1 rounded-full bg-border"})})});eM.displayName=eR.gb.displayName;var eD=s(44743);function ez(){let[e,t]=(0,a.useState)([{id:"1",content:"Hello! I'm your factory assistant. How can I help you today?",sender:"bot",timestamp:new Date}]),[s,n]=(0,a.useState)(""),[i,l]=(0,a.useState)(!1),o=(0,a.useRef)(null);(0,a.useEffect)(()=>{c()},[]);let c=()=>{var e;null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},d=async()=>{if(!s.trim())return;let e={id:Date.now().toString(),content:s,sender:"user",timestamp:new Date};t(t=>[...t,e]),n(""),l(!0);try{let e=await eu.sendBotMessage(s);if(e.success&&e.data){let s={id:(Date.now()+1).toString(),content:e.data.message,sender:"bot",timestamp:new Date(e.data.timestamp||Date.now())};t(e=>[...e,s])}else{let e={id:(Date.now()+1).toString(),content:"Sorry, I'm having trouble processing your request right now.",sender:"bot",timestamp:new Date};t(t=>[...t,e])}}catch(s){console.error("Error sending message:",s);let e={id:(Date.now()+1).toString(),content:"Sorry, I'm having trouble processing your request right now.",sender:"bot",timestamp:new Date};t(t=>[...t,e])}finally{l(!1)}};return(0,r.jsxs)(Z,{className:"w-full h-[calc(100vh-2rem)] flex flex-col",children:[(0,r.jsxs)(E,{children:[(0,r.jsx)(A,{children:"Factory Assistant"}),(0,r.jsx)(_,{children:"Ask questions about factory operations and data"})]}),(0,r.jsx)(T,{className:"flex-grow overflow-hidden p-0",children:(0,r.jsx)(eS,{className:"h-full p-4",children:(0,r.jsxs)("div",{className:"space-y-4 pb-4",children:[e.map(e=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:"flex items-start gap-2 max-w-[80%]",children:["bot"===e.sender&&(0,r.jsxs)(ek,{className:"h-8 w-8",children:[(0,r.jsx)(eF,{src:"/bot-avatar.png",alt:"Bot"}),(0,r.jsx)(eC,{children:"FA"})]}),(0,r.jsxs)("div",{className:"rounded-lg px-4 py-2 ".concat("user"===e.sender?"bg-primary text-primary-foreground":"bg-muted"),children:[(0,r.jsx)("p",{className:"text-sm",children:e.content}),(0,r.jsx)("p",{className:"text-xs opacity-50 mt-1",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),"user"===e.sender&&(0,r.jsxs)(ek,{className:"h-8 w-8",children:[(0,r.jsx)(eF,{src:"/user-avatar.png",alt:"User"}),(0,r.jsx)(eC,{children:"U"})]})]})},e.id)),(0,r.jsx)("div",{ref:o})]})})}),(0,r.jsx)(L,{className:"border-t p-4",children:(0,r.jsxs)("div",{className:"flex w-full items-center space-x-2",children:[(0,r.jsx)(k,{placeholder:"Type your message...",value:s,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),d())},disabled:i,className:"flex-1"}),(0,r.jsxs)(x,{size:"icon",onClick:d,disabled:i||!s.trim(),children:[(0,r.jsx)(eD.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Send"})]})]})})]})}var eZ=s(76858);let eE=(0,a.createContext)({setCurrentPage:()=>{}});function eA(){let{setCurrentPage:e}=(0,a.useContext)(eE);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 text-center py-10",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute -inset-4 bg-primary/20 rounded-full blur-xl"}),(0,r.jsx)(C.Z,{className:"h-16 w-16 text-primary relative"})]}),(0,r.jsxs)("h1",{className:"text-3xl md:text-5xl font-bold tracking-tight",children:["Welcome to ",(0,r.jsx)("span",{className:"text-primary",children:"Factory AI"})]}),(0,r.jsx)("p",{className:"text-muted-foreground max-w-[600px] text-lg",children:"Monitor your factory performance and interact with our AI assistant to optimize production."})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 mt-10",children:[(0,r.jsxs)(Z,{className:"backdrop-blur-sm bg-background/80 border-primary/20 hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>e("Factory Dashboard"),children:[(0,r.jsxs)(E,{children:[(0,r.jsxs)(A,{className:"flex items-center gap-2",children:[(0,r.jsx)(C.Z,{className:"h-5 w-5 text-primary"}),"Factory Dashboard"]}),(0,r.jsx)(_,{children:"View real-time metrics and KPIs"})]}),(0,r.jsxs)(T,{className:"flex justify-between items-center",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Monitor production rates, efficiency, and resource utilization."}),(0,r.jsx)(x,{variant:"ghost",size:"icon",className:"text-primary hover:text-primary hover:bg-primary/10",children:(0,r.jsx)(eZ.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)(Z,{className:"backdrop-blur-sm bg-background/80 border-primary/20 hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>e("Factory Bot"),children:[(0,r.jsxs)(E,{children:[(0,r.jsxs)(A,{className:"flex items-center gap-2",children:[(0,r.jsx)(R.Z,{className:"h-5 w-5 text-primary"}),"Factory Bot"]}),(0,r.jsx)(_,{children:"AI-powered assistant"})]}),(0,r.jsxs)(T,{className:"flex justify-between items-center",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Get answers to your questions about factory operations and insights."}),(0,r.jsx)(x,{variant:"ghost",size:"icon",className:"text-primary hover:text-primary hover:bg-primary/10",children:(0,r.jsx)(eZ.Z,{className:"h-4 w-4"})})]})]})]}),(0,r.jsx)(Z,{className:"p-6 backdrop-blur-sm bg-primary/5 border-primary/20 mt-10",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-2",children:"Need assistance?"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Our AI-powered Factory Bot can answer questions and provide insights about your factory operations."})]}),(0,r.jsxs)(x,{className:"bg-primary hover:bg-primary/90",onClick:()=>e("Factory Bot"),children:["Open Factory Bot",(0,r.jsx)(eZ.Z,{className:"ml-2 h-4 w-4"})]})]})})]})}let e_=e=>{let{id:t="tsparticles",background:s="transparent",minSize:n=.6,maxSize:i=1.4,particleDensity:l=100,className:o="h-full w-full",particleColor:c="#FFFFFF"}=e,d=(0,a.useRef)(null),m=function(){let[e,t]=(0,a.useState)({x:0,y:0});return(0,a.useEffect)(()=>{let e=e=>{t({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[]),e}(),[f,u]=(0,a.useState)({width:1200,height:800});return(0,a.useEffect)(()=>{let e;u({width:window.innerWidth,height:window.innerHeight});let t=d.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let r=[];t.width=window.innerWidth,t.height=window.innerHeight;class a{update(){if(!t)return;this.x+=this.speedX,this.y+=this.speedY,this.x>t.width&&(this.x=0),this.x<0&&(this.x=t.width),this.y>t.height&&(this.y=0),this.y<0&&(this.y=t.height);let e=m.x-this.x,s=m.y-this.y;if(100>Math.sqrt(e*e+s*s)){let t=Math.atan2(s,e);this.x-=1*Math.cos(t),this.y-=1*Math.sin(t)}}draw(){s&&(s.fillStyle=c,s.beginPath(),s.arc(this.x,this.y,this.size,0,2*Math.PI),s.fill())}constructor(){if(!t){this.x=0,this.y=0,this.size=0,this.speedX=0,this.speedY=0;return}this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.size=Math.random()*(i-n)+n,this.speedX=.5*Math.random()-.25,this.speedY=.5*Math.random()-.25}}let o=()=>{r=[];for(let e=0;e<l;e++)r.push(new a)},f=()=>{s&&t&&(s.clearRect(0,0,t.width,t.height),r.forEach(e=>{e.update(),e.draw()}),e=requestAnimationFrame(f))};o(),f();let x=()=>{t&&(t.width=window.innerWidth,t.height=window.innerHeight,u({width:window.innerWidth,height:window.innerHeight}),o())};return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x),cancelAnimationFrame(e)}},[i,n,c,l,m.x,m.y]),(0,r.jsx)("canvas",{ref:d,id:t,className:o,style:{background:s,width:f.width,height:f.height}})};function eT(){let[e,t]=(0,a.useState)("Home");return(0,r.jsx)(eE.Provider,{value:{setCurrentPage:t},children:(0,r.jsxs)("div",{className:"min-h-screen bg-background relative",children:[(0,r.jsx)("div",{className:"fixed inset-0 z-0 pointer-events-none",children:(0,r.jsx)(e_,{id:"tsparticles",background:"transparent",particleColor:"hsl(var(--primary) / 0.1)",particleDensity:100,className:"h-full w-full",minSize:.6,maxSize:1.4})}),(0,r.jsxs)("div",{className:"flex flex-col h-screen relative z-10",children:[(0,r.jsx)(z,{currentPage:e,setCurrentPage:t,pages:[{name:"Home",icon:"Home"},{name:"Factory Dashboard",icon:"Factory"},{name:"Factory Bot",icon:"Bot"}]}),(0,r.jsx)("main",{className:"flex-1 overflow-auto p-6",children:(()=>{switch(e){case"Home":default:return(0,r.jsx)(eA,{});case"Factory Dashboard":return(0,r.jsx)(eN,{});case"Factory Bot":return(0,r.jsx)(ez,{})}})()})]})]})})}}},function(e){e.O(0,[430,971,117,744],function(){return e(e.s=71865)}),_N_E=e.O()}]);